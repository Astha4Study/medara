import{j as e,L as d,u as y,a as o,H as f}from"./app-DPU-5xaA.js";import{c as j,d as N,e as b,g as w,h as v,f as c,A as k}from"./app-layout-i-Fpipg8.js";import{E as D}from"./ellipsis-Dn8LywfR.js";import{d as P}from"./index-BT6cxCmL.js";import{S as C}from"./search-D0rQAU-J.js";import{F as S}from"./filter-fat5oloN.js";import{P as L}from"./plus-DRm8InuU.js";import{X as A}from"./x-DTHQ_Ru-.js";import"./app-BZ19I5NX.js";import"./app-logo-icon-xsYHPLvD.js";import"./utils-C8uvsPt5.js";import"./index-BtRVbgEg.js";import"./index-4Ns3tNZl.js";const I=({id:s})=>e.jsxs(j,{children:[e.jsx(N,{asChild:!0,children:e.jsx("button",{className:"rounded-md p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700",children:e.jsx(D,{className:"h-4 w-4"})})}),e.jsxs(b,{align:"end",className:"w-40",children:[e.jsx(w,{children:"Aksi"}),e.jsx(v,{}),e.jsx(c,{asChild:!0,children:e.jsx(d,{href:`/resepsionis/pasien/${s}/edit`,className:"w-full text-left text-emerald-600 hover:text-emerald-700",children:"Edit"})}),e.jsx(c,{asChild:!0,children:e.jsx(d,{href:`/resepsionis/antrian/create/pasien/${s}`,className:"w-full text-left text-yellow-600 hover:text-yellow-700",children:"Buat Antrian"})})]})]}),x=["Nomor Pasien","Nama Pasien","NIK","Gender","Tanggal Lahir","Umur","Alamat"],_=[{title:"Daftar Pasien",href:"/pasien"}];function Y(){const{pasien:s}=y().props,[t,r]=o.useState([]),[n,m]=o.useState(""),p=a=>{r(i=>i.includes(a)?i.filter(u=>u!==a):[...i,a])},h=()=>{t.length===s.length?r([]):r(s.map(a=>a.id))},g=()=>{t.length!==0&&confirm(`Yakin ingin menghapus ${t.length} pasien?`)&&(t.forEach(a=>P.Inertia.delete(`/resepsionis/pasien/${a}`)),r([]))},l=s.filter(a=>a.nama_lengkap.toLowerCase().includes(n.toLowerCase())||a.nik.includes(n));return e.jsxs(k,{breadcrumbs:_,children:[e.jsx(f,{title:"Daftar Pasien"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Pasien"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola data pasien yang Anda daftarkan"})]}),e.jsxs("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative flex gap-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx(C,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari pasien berdasarkan nama atau NIK...",value:n,onChange:a=>m(a.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 transition hover:bg-gray-50",children:[e.jsx(S,{className:"h-4 w-4"}),"Filter"]})]}),e.jsxs(d,{href:"/resepsionis/pasien/create",className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white transition hover:bg-emerald-700",children:[e.jsx(L,{className:"h-4 w-4"}),"Tambah Pasien"]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:t.length===s.length&&s.length>0,onChange:h,className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),x.map(a=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:a},a)),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:l.length>0?l.map(a=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:t.includes(a.id),onChange:()=>p(a.id),className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:a.nomor_pasien}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-700",children:a.nama_lengkap}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.nik}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.jenis_kelamin==="L"?"Laki-laki":"Perempuan"}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.tanggal_lahir?new Date(a.tanggal_lahir).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):"-"}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.umur?`${a.umur} tahun`:"-"}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.alamat}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx(I,{id:a.id})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:x.length+2,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data pasien."})})})]})})}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:e.jsxs("p",{children:["Menampilkan ",l.length," dari ",s.length," ","pasien"]})}),t.length>0&&e.jsxs("div",{className:"fixed bottom-8 left-1/2 flex -translate-x-1/2 items-center gap-4 rounded-lg border border-gray-200 bg-white px-6 py-3 shadow-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[t.length," pasien dipilih"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:g,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50",children:"Hapus"}),e.jsx("button",{onClick:()=>r([]),className:"ml-2 text-gray-400 transition hover:text-gray-600",children:e.jsx(A,{className:"h-5 w-5"})})]})]})]})]})}export{Y as default};
