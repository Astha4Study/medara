import{a as c,j as e,L as m,r as x,t as n,u as p,H as g}from"./app-Cj27gzC2.js";import{A as h,b as u,c as y,d as j,e as b,f,g as N,h as k}from"./alert-dialog-CJ1_EXOJ.js";import{c as w,d as D,e as v,f as d,A}from"./app-layout-DzLWQqg2.js";import{E as C}from"./ellipsis-CXy1-W9V.js";import{E as L}from"./eye--M0ulVw7.js";import{c as B}from"./utils-BCjtJRyR.js";import{S as _}from"./search-fAQ5lgkR.js";import{F as S}from"./filter-aLtoOCcG.js";import{P as E}from"./plus-Bw2lsQ8z.js";import"./app-WK0bYjlf.js";import"./index-Dj6hTyPB.js";import"./index-DMzJj6dC.js";import"./app-logo-icon-CCO-RXT9.js";import"./index-ToLVEP0o.js";import"./x-CVVHKzOn.js";import"./index-DODXnNab.js";import"./index-4Ns3tNZl.js";const T=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],M=B("CircleX",T),R=({id:l,judul:t})=>{const[i,s]=c.useState(!1),r=()=>{x.put(`/admin/bug-reports/${l}`,{status:"dibatalkan"},{onSuccess:()=>{n.success("Laporan dibatalkan",{description:`Bug "${t}" berhasil dibatalkan.`}),s(!1)},onError:()=>{n.error("Gagal membatalkan laporan",{description:"Terjadi kesalahan saat memproses permintaan."})}})};return e.jsxs(e.Fragment,{children:[e.jsxs(w,{children:[e.jsx(D,{asChild:!0,children:e.jsx("button",{className:"flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:e.jsx(C,{className:"h-4 w-4"})})}),e.jsxs(v,{align:"end",className:"w-44 border border-gray-200 bg-white shadow-lg",children:[e.jsx(d,{asChild:!0,children:e.jsxs(m,{href:`/admin/bug-reports/${l}`,className:"flex items-center gap-3 text-blue-600 hover:bg-blue-50",children:[e.jsx(L,{className:"h-4 w-4 text-blue-500"}),"Lihat Detail"]})}),e.jsxs(d,{onClick:()=>s(!0),className:"flex cursor-pointer items-center gap-3 text-red-600 hover:bg-red-50",children:[e.jsx(M,{className:"h-4 w-4 text-red-500"}),"Batalkan"]})]})]}),e.jsx(h,{open:i,onOpenChange:s,children:e.jsxs(u,{children:[e.jsxs(y,{children:[e.jsx(j,{children:"Konfirmasi Pembatalan"}),e.jsxs(b,{children:["Apakah Anda yakin ingin membatalkan laporan bug"," ",e.jsx("b",{children:t}),"? Tindakan ini tidak dapat dibatalkan."]})]}),e.jsxs(f,{children:[e.jsx(N,{children:"Batal"}),e.jsx(k,{onClick:r,className:"bg-red-600 text-white hover:bg-red-700",children:"Ya, Batalkan"})]})]})})]})},o=["Judul Bug","Dampak","Status","Tanggal Lapor","Diselesaikan Pada"],F=[{title:"Dashboard",href:"/super-admin"},{title:"Bug Reports",href:"/super-admin/bug-reports"}],I={rendah:"bg-gray-100 text-gray-700",sedang:"bg-yellow-100 text-yellow-700",tinggi:"bg-red-100 text-red-700"},P={dibuka:"bg-blue-100 text-blue-700",sedang_dikerjakan:"bg-indigo-100 text-indigo-700",selesai:"bg-emerald-100 text-emerald-700",dibatalkan:"bg-gray-200 text-gray-600"};function te(){const{bugReports:l}=p().props,t=l.data??[],[i,s]=c.useState(""),r=t.filter(a=>a.judul.toLowerCase().includes(i.toLowerCase()));return e.jsxs(A,{breadcrumbs:F,children:[e.jsx(g,{title:"Bug Reports"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Laporan Bug"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Daftar bug yang dilaporkan oleh klinik"})]}),e.jsxs("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative flex gap-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx(_,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari judul bug atau nama klinik...",value:i,onChange:a=>s(a.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 transition hover:bg-gray-50",children:[e.jsx(S,{className:"h-4 w-4"}),"Filter"]})]}),e.jsxs(m,{href:"/admin/bug-reports/create",className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white transition hover:bg-emerald-700",children:[e.jsx(E,{className:"h-4 w-4"}),"Laporkan Bug"]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[o.map(a=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:a},a)),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:r.length>0?r.map(a=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:a.judul}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${I[a.dampak_pelapor]}`,children:a.dampak_pelapor})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`rounded-full px-3 py-1 text-xs font-medium ${P[a.status]}`,children:a.status.replace("_"," ")})}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:new Date(a.created_at).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"})}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.status==="selesai"&&a.diselesaikan_pada?new Date(a.diselesaikan_pada).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric"}):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"Menunggu penyelesaian"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(R,{id:a.id,judul:a.judul})})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:o.length+2,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada laporan bug"})})})]})})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:["Menampilkan ",r.length," dari ",t.length," laporan bug"]})]})]})}export{te as default};
