import{a as n,j as e,L as f,r as j,u as O,H as I,t as c}from"./app-Cj27gzC2.js";import{A as y,b as N,c as w,d as k,e as D,f as A,g as v,h as C}from"./alert-dialog-CJ1_EXOJ.js";import{c as P,d as _,e as G,f as u,A as K}from"./app-layout-DzLWQqg2.js";import{E as Q}from"./ellipsis-CXy1-W9V.js";import{E as Y}from"./eye--M0ulVw7.js";import{S as q}from"./square-pen-SYh_rVn2.js";import{T as R}from"./trash-DP5i06Au.js";import"./index-C8CMPBXj.js";import{S as X}from"./search-fAQ5lgkR.js";import{F as z}from"./filter-aLtoOCcG.js";import{P as J}from"./plus-Bw2lsQ8z.js";import{T as U}from"./trash-2-DWK_zPhh.js";import{X as V}from"./x-CVVHKzOn.js";import"./app-WK0bYjlf.js";import"./index-Dj6hTyPB.js";import"./index-DMzJj6dC.js";import"./utils-BCjtJRyR.js";import"./app-logo-icon-CCO-RXT9.js";import"./index-ToLVEP0o.js";import"./index-DODXnNab.js";import"./index-4Ns3tNZl.js";function W({id:i,name:t,onDelete:s}){const[r,l]=n.useState(!1),m=()=>{j.delete(`/super-admin/kelola-admin/${i}`),s()};return e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(_,{asChild:!0,children:e.jsx("button",{className:"inline-flex h-8 w-8 items-center justify-center rounded-md text-gray-600 hover:bg-gray-100 focus:ring-2 focus:ring-emerald-500 focus:outline-none",children:e.jsx(Q,{className:"h-4 w-4"})})}),e.jsxs(G,{align:"end",className:"w-44 border border-gray-200 bg-white shadow-lg",children:[e.jsx(u,{asChild:!0,children:e.jsxs(f,{href:`/super-admin/kelola-admin/${i}`,className:"flex items-center gap-3 text-blue-600 hover:bg-blue-50",children:[e.jsx(Y,{className:"h-4 w-4 text-blue-500"})," Lihat Detail"]})}),e.jsx(u,{asChild:!0,children:e.jsxs(f,{href:`/super-admin/kelola-admin/${i}/edit`,className:"flex items-center gap-3 text-emerald-600 hover:bg-emerald-50",children:[e.jsx(q,{className:"h-4 w-4 text-emerald-500"})," Edit"]})}),e.jsxs(u,{onClick:()=>l(!0),className:"flex cursor-pointer items-center gap-3 text-red-600 hover:bg-red-50",children:[e.jsx(R,{className:"h-4 w-4 text-red-500"})," Hapus"]})]})]}),e.jsx(y,{open:r,onOpenChange:l,children:e.jsxs(N,{children:[e.jsxs(w,{children:[e.jsx(k,{children:"Konfirmasi Hapus"}),e.jsxs(D,{children:["Apakah kamu yakin ingin menghapus admin"," ",e.jsx("b",{children:t}),"? Tindakan ini tidak bisa dibatalkan."]})]}),e.jsxs(A,{children:[e.jsx(v,{children:"Batal"}),e.jsx(C,{onClick:m,className:"bg-red-600 text-white hover:bg-red-700",children:"Ya, Hapus"})]})]})})]})}const Z=[{title:"Daftar Admin",href:""}];function Ne(){const{props:i}=O(),{admins:t}=i,[s,r]=n.useState([]),[l,m]=n.useState(""),[S,d]=n.useState(!1),[x,b]=n.useState(null),[h,p]=n.useState(!1),g=t.filter(a=>a.name.toLowerCase().includes(l.toLowerCase())||a.email.toLowerCase().includes(l.toLowerCase())),E=a=>r(o=>o.includes(a)?o.filter(M=>M!==a):[...o,a]),T=a=>{b(a),p(!1),d(!0)},H=()=>{x&&(j.delete(`/super-admin/kelola-admin/${x}`,{onSuccess:()=>{c.success("Admin berhasil dihapus"),r(a=>a.filter(o=>o!==x))},onError:()=>c.error("Gagal menghapus admin")}),d(!1),b(null))},L=()=>{s.length===t.length?r([]):r(t.map(a=>a.id))},$=()=>{s.length!==0&&(p(!0),d(!0))},F=()=>{s.length!==0&&(s.forEach(a=>j.delete(`/super-admin/kelola-admin/${a}`,{onSuccess:()=>{c.success(`${s.length} admin berhasil dihapus`),r([])},onError:()=>c.error("Gagal menghapus beberapa admin")})),d(!1),p(!1))},B=a=>{T(a)};return e.jsxs(K,{breadcrumbs:Z,children:[e.jsx(I,{title:"Daftar Admin"}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Admin"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Kelola data admin yang terdaftar"})]}),e.jsxs("div",{className:"my-4 flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative flex gap-3",children:[e.jsxs("div",{className:"flex",children:[e.jsx(X,{className:"absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari admin berdasarkan nama atau email...",value:l,onChange:a=>m(a.target.value),className:"w-full min-w-[400px] rounded-lg border border-gray-200 bg-white py-2.5 pr-4 pl-10 text-sm text-gray-900 placeholder-gray-400 transition focus:border-emerald-400 focus:ring-emerald-400"})]}),e.jsxs("button",{className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2.5 text-sm font-medium text-gray-700 transition hover:bg-gray-50",children:[e.jsx(z,{className:"h-4 w-4"}),"Filter"]})]}),e.jsxs(f,{href:"/super-admin/kelola-admin/create",className:"flex items-center gap-2 rounded-lg bg-emerald-600 px-4 py-2.5 text-sm font-medium text-white transition hover:bg-emerald-700",children:[e.jsx(J,{className:"h-4 w-4"}),"Tambah Admin"]})]}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-gray-200 bg-white shadow-sm",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"px-6 py-3 text-left",children:e.jsx("input",{type:"checkbox",checked:s.length===t.length&&t.length>0,onChange:L,className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Nama"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Tanggal Dibuat"}),e.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium tracking-wider text-gray-500 uppercase",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:g.length>0?g.map(a=>e.jsxs("tr",{className:"transition hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("input",{type:"checkbox",checked:s.includes(a.id),onChange:()=>E(a.id),className:"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:a.name}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.email}),e.jsx("td",{className:"px-6 py-4 text-gray-700",children:a.created_at}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx(W,{id:a.id,name:a.name,onDelete:()=>B(a.id)})})]},a.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-sm text-gray-500",children:"Tidak ada data admin."})})})]})})}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-600",children:e.jsxs("p",{children:["Menampilkan ",g.length," dari ",t.length," ","admin"]})}),s.length>0&&e.jsxs("div",{className:"fixed bottom-8 left-1/2 flex -translate-x-1/2 items-center gap-4 rounded-lg border border-gray-200 bg-white px-6 py-3 shadow-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[s.length," admin dipilih"]}),e.jsxs("button",{onClick:$,className:"flex items-center gap-2 rounded-lg border border-red-200 bg-white px-4 py-2 text-sm font-medium text-red-600 transition hover:bg-red-50",children:[e.jsx(U,{className:"h-4 w-4"})," Hapus"]}),e.jsx("button",{onClick:()=>r([]),className:"ml-2 text-gray-400 transition hover:text-gray-600",children:e.jsx(V,{className:"h-5 w-5"})})]})]}),e.jsx(y,{open:S,onOpenChange:d,children:e.jsxs(N,{children:[e.jsxs(w,{children:[e.jsx(k,{children:h?"Hapus beberapa admin?":"Hapus admin?"}),e.jsx(D,{children:h?`Admin yang dipilih (${s.length}) akan dihapus secara permanen.`:"Admin ini akan dihapus secara permanen."})]}),e.jsxs(A,{children:[e.jsx(v,{children:"Batal"}),e.jsx(C,{className:"bg-red-600 hover:bg-red-700",onClick:h?F:H,children:"Ya, Hapus"})]})]})})]})}export{Ne as default};
